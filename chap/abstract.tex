% vim:ts=4:sw=4
% Copyright (c) 2014 Casper Ti. Vector
% Public domain.

\begin{cabstract}
	在飞行模拟视景系统等大规模场景的虚拟现实系统中，由于应用本身以及数据规模等原因，地形以分层四叉树等形式进行组织和管理。场景的实时绘制则采用了数据缓冲等技术。在基于四叉树的地形编辑时，需要将四叉树某个层级上的编辑结果实时同步到整个四叉树。这种数据同步和数据缓冲策略叠加，导致地形编辑的实现复杂度变得很高。设计出适用于大规模地形的编辑框架是一项很有意义的工作。\par
	此外，地形场景中纹理数据通常来自卫星航拍影像，其分辨率低，包含信息单一，不符合飞行模拟视景系统等应用对精度和真实感要求。因此，需要开发高效的纹理编辑工具和方法，以实现增加植被、积雪等信息，纹理随季节变化等功能。\par
	针对上述问题，本文工作围绕大规模地形场景的编辑展开，主要工作如下：\par
	（1）设计并实现一个包括地形高程、纹理和语义信息的实时编辑框架。提出一种编辑操作向地形四叉树各层的实时同步策略。在框架层面实现了撤销、重做等基础功能。并提供了笔刷和选区等编辑工具，实现了对地形高程的升降、平整、平滑、腐蚀等操作，以及对于纹理和语义的笔刷编辑。\par
	（2）提出一种基于地形高程规则的过程式纹理编辑策略。使用过程式纹理笔刷，用户可以通过简单涂抹，对地表大范围的积雪、草地等地物进行高效编辑和可视化。\par
	（3）实现了一种过程式地表纹理绘制技术，以修改可视化效果的方式高效近似大范围的地表纹理编辑。通过颜色分析算法和贴花技术，在绘制阶段实时为地表纹理添加细节。对给定季节的卫星影像进行色调的实时调整，实现其他季节的可视化效果。实验结果表明该方法所需人工交互小，CPU和GPU开销低，而视觉效果良好。\par

\end{cabstract}
\cleardoublepage
\begin{eabstract}
Terrain is the basic element in many virtual reality scenes, which are usually composed of terrain elevation data and terrain surface texture data.Different scenes have different requirements on the terrain, so terrain editing is an important part of constructing virtual reality environment.\par
In virtual reality systems, terrain data is often organized in the form of terrain quadtree, and its terrain editor is also based on this realization.The functions of terrain editor include: Editing terrain elevation and texture data in different levels of terrain quadtree;The editing results are presented in real time;Provide convenient human-computer interaction mechanism, undo and redo the operation,and output the edit results.Compared with the terrain editor based on single level terrain, the terrain editor based on terrain quadtree needs to ensure the synchronization of editing effects at all levels of the quadtree, which make it difficult to implement.\par
During constructing terrain scene in virtual reality system, the realism of the scene is often restricted by the precision and content of terrain data.Terrain surface texture data is usually obtained from satellite remote sensing images, and its resolution cannot meet requirements of near-earth roaming.At the same time, remote sensing images are collected in a specific season, so it is difficult to construct credible scenes of other seasons.\par
Based on the above problems, the purpose of this article is to design and implement a large-scale terrain editor, and achieved works as follow:\par
(1)A real-time editing framework compatible with terrain elevation, texture and semantic information editing is designed and implemented, and a solution is proposed for the synchronization of editing operations to each layer of terrain quadtree, undo and redo editing operations, save and load editing project files, and export editing results.For elevation editing, the editor achieved two kinds of editing tools,brush and area select tool, and can implement  lifting, flatting, smoothing,and eroding on the terrain elevation.For texture and semantic editing, the editor achieved the brush editing tool,which can be use to smear on multiple layers of the terrain texture.\par
(2)A procedural texture editing brush based on terrain elevation rules is proposed. By customizing the editing rules that conform the real world ground-object distribution rules, the users can quickly paint the texture such as snow cover and grassland, by simply scrawling on terrain surface.\par
(3)A procedural terrain texture rendering technology is implemented. Through color extraction technology and decal technology, details are added to the terrain surface texture in real time at the rendering stage.It also realizes the color adjustment of satellite images due to user input, which makes up for the lack of satellite image data in other seasons.
\end{eabstract}

